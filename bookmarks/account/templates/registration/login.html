{% extends 'base.html' %}

{% block title %}
    登录
{% endblock %}

{% block content %}

    <h1>登录</h1>
    {% if form.errors %}

        <p>你的用户名和密码不匹配。请再试一次。</p>
    {% else %}
        <p>请使用以下表单登录:</p>
    {% endif %}

    <div class="login-form">
        <form action="" method="post">
            {{ form.as_p }}
            {% csrf_token %}
<!--            这个hidden是视图通过内置GET请求获获得并记录next参数的位置，用于返回登录前的页面         -->
            <input type="hidden" name="next" value="{{ next }}">
            <p><input type="submit" value="登录"></p>

        </form>
    <p><a href="{% url 'password_reset' %}">忘记密码？</a></p>
    </div>
{% endblock %}